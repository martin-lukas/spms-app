{"version":3,"sources":["Table.js","AddStockForm.js","Portfolio.js","AddPortfolioForm.js","utils.js","index.js"],"names":["Table","react_default","a","createElement","className","Table_TableHeader","Table_TableBody","data","this","props","removeStock","Component","TableHeader","TableBody","stocks","map","stock","index","totalVal","parseFloat","quantity","value","toFixed","key","symbol","onClick","AddStockForm","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","defineProperty","target","name","submitForm","state","isNaN","handleSubmit","initialState","type","onChange","API","Portfolio","filter","i","that","assertThisInitialized","url","concat","xhr","XMLHttpRequest","open","onload","e","readyState","status","tsObj","JSON","parse","responseText","dates","keys","toUpperCase","newData","exists","forEach","st","toConsumableArray","length","updateStockCookie","console","error","statusText","send","totalStockValue","sum","parseInt","submitted","_this2","removePortfolio","src_Table","src_AddStockForm","AddPortfolioForm","onSubmit","preventDefault","setCookie","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","App","portfolios","portfolio","portf","newPortfolios","newStockData","ports","stringify","objects","src_Portfolio","src_AddPortfolioForm","nameEQ","ca","split","c","charAt","substring","indexOf","getCookie","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.49fecc96.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './style.css';\r\n\r\nclass Table extends Component {\r\n    render() {\r\n        return (\r\n            <table className=\"zui-table\">\r\n                <TableHeader />\r\n                <TableBody data={this.props.data} removeStock={this.props.removeStock} />\r\n            </table>\r\n        );\r\n    }\r\n}\r\n\r\nconst TableHeader = () => {\r\n    return (\r\n        <thead>\r\n        <tr>\r\n            <th>Symbol</th>\r\n            <th>Value</th>\r\n            <th>Quantity</th>\r\n            <th>Total value</th>\r\n            <th></th>\r\n        </tr>\r\n        </thead>\r\n    );\r\n};\r\n\r\nconst TableBody = props => {\r\n    const stocks = props.data.map((stock, index) => {\r\n        let totalVal = (parseFloat(stock.quantity) * stock.value).toFixed(2);\r\n        return (\r\n            <tr key={index}>\r\n                <td>{stock.symbol}</td>\r\n                <td>{stock.value}</td>\r\n                <td>{stock.quantity}</td>\r\n                <td>{totalVal}</td>\r\n                <td><button onClick={() => props.removeStock(index)}>X</button></td>\r\n            </tr>\r\n        );\r\n    });\r\n\r\n    return <tbody>{stocks}</tbody>;\r\n};\r\n\r\nexport default Table;","import React, {Component} from \"react\";\r\n\r\nclass AddStockForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.initialState = {\r\n            symbol: '',\r\n            value: parseFloat(\"0.00\"),\r\n            quantity: ''\r\n        };\r\n\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({\r\n            [event.target.name] : event.target.value\r\n        });\r\n    };\r\n\r\n    submitForm = () => {\r\n        if (this.state.symbol !== '' && this.state.quantity !== '' && !isNaN(this.state.quantity)) {\r\n            this.props.handleSubmit(this.state);\r\n            this.setState(this.initialState);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"stock-form\">\r\n                <label>Symbol:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"symbol\"\r\n                    className=\"symbol-input-field\"\r\n                    value={this.state.symbol}\r\n                    onChange={this.handleChange} />\r\n                <label>Quantity:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"quantity\"\r\n                    className=\"quantity-input-field\"\r\n                    value={this.state.quantity}\r\n                    onChange={this.handleChange}/>\r\n                <input\r\n                    type=\"button\"\r\n                    value=\"Add\"\r\n                    onClick={this.submitForm} />\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddStockForm;","import React, {Component} from \"react\";\r\nimport Table from \"./Table\";\r\nimport AddStockForm from \"./AddStockForm\";\r\n// import {setCookie, getCookie, eraseCookie} from './utils';\r\n\r\nconst API = \"R2XFYH8AEAQTGTHE\";\r\n\r\nclass Portfolio extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: props.data,\r\n            submitted: false\r\n        };\r\n    }\r\n\r\n    componentDidUpdate() {\r\n    }\r\n\r\n    removeStock = index => {\r\n        this.setState({\r\n            data: this.state.data.filter((stock, i) => {\r\n                return i !== index;\r\n            })\r\n        });\r\n    };\r\n\r\n    handleSubmit = stock => {\r\n        let that = this;\r\n        let url = `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${stock.symbol}&outputsize=compact&apikey=${API}`;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(\"GET\", url, true);\r\n        xhr.onload = function (e) {\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status === 200) {\r\n                    let result = JSON.parse(xhr.responseText);\r\n                    const tsObj = result[\"Time Series (Daily)\"];\r\n                    if (typeof tsObj !== \"undefined\") {\r\n                        const dates = Object.keys(tsObj);\r\n                        stock.value = parseFloat(tsObj[dates[0]][\"4. close\"]).toFixed(2);\r\n                        stock.symbol = stock.symbol.toUpperCase();\r\n                        let newData = that.state.data;\r\n                        let exists = false;\r\n                        newData.forEach(function (st) {\r\n                            if (st.symbol === stock.symbol) {\r\n                                exists = true;\r\n                                st.value = stock.value;\r\n                                st.quantity = stock.quantity;\r\n                            }\r\n                        });\r\n                        if (!exists) {\r\n                            newData = [...that.state.data, stock];\r\n                        }\r\n                        if (newData.length <= 50) {\r\n                            that.setState({\r\n                                data: newData\r\n                            });\r\n                        }\r\n                        that.props.updateStockCookie(that.props.name, newData);\r\n                    }\r\n                } else {\r\n                    console.error(xhr.statusText);\r\n                }\r\n            }\r\n        };\r\n        xhr.send();\r\n    };\r\n\r\n    totalStockValue = () => {\r\n        let sum = 0;\r\n        let data = this.state.data;\r\n        for (let i = 0; i < data.length; i++) {\r\n            sum += parseFloat(data[i].value) * parseInt(data[i].quantity);\r\n        }\r\n        return sum.toFixed(2);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"portfolio-element\">\r\n                <div className=\"portfolio-header\">\r\n                    <p className=\"portfolio-name\">{this.props.name}</p>\r\n                    <button onClick={() => this.props.removePortfolio(this.props.name)}>X</button>\r\n                </div>\r\n                <Table\r\n                    data={this.state.data}\r\n                    removeStock={this.removeStock}\r\n                />\r\n                <p className=\"total-sum\">Total value of {this.props.name}: {this.totalStockValue()}</p>\r\n                <AddStockForm handleSubmit={this.handleSubmit} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Portfolio;","import React, {Component} from \"react\";\r\n\r\nclass AddPortfolioForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            name: '',\r\n            data: []\r\n        };\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({\r\n            [event.target.name] : event.target.value\r\n        });\r\n    };\r\n\r\n    submitForm = () => {\r\n        if (!(this.state.name === '')) {\r\n            this.props.handleSubmit(this.state);\r\n            this.setState(this.initialState);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"portfolio-form\">\r\n                <form onSubmit={e => { e.preventDefault(); }}>\r\n                    <label>Name:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        className=\"name-input-field\"\r\n                        value={this.state.name}\r\n                        onChange={this.handleChange} />\r\n                    <input\r\n                        type=\"button\"\r\n                        value=\"Add portfolio\"\r\n                        onClick={this.submitForm} />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddPortfolioForm;","export function setCookie(name,value,days) {\r\n    let expires = \"\";\r\n    // if (days) {\r\n    //     let date = new Date();\r\n    //     // date.setTime(date.getTime() + (days*24*60*60*1000));\r\n    //     expires = \"; expires=\" + date.toUTCString();\r\n    // }\r\n    // document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\";\r\n\r\n    let date = new Date();\r\n    date.setTime(date.getTime() + (10 * 365 * 24 * 60 * 60));\r\n    expires = \"; expires=\" + date.toUTCString();\r\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\";\r\n}\r\n\r\nexport function getCookie(name) {\r\n    let nameEQ = name + \"=\";\r\n    let ca = document.cookie.split(';');\r\n    for(let i=0;i < ca.length;i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0)===' ') c = c.substring(1,c.length);\r\n        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length,c.length);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function eraseCookie(name) {\r\n    document.cookie = name+'=; Max-Age=-99999999;';\r\n}\r\n","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style.css';\r\nimport Portfolio from './Portfolio';\r\nimport AddPortfolioForm from './AddPortfolioForm';\r\nimport {setCookie, getCookie, eraseCookie} from './utils';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            portfolios: props.data\r\n        };\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        setCookie(\"portfolios\", JSON.stringify(this.state.portfolios));\r\n    };\r\n\r\n    removePortfolio = name => {\r\n        this.setState({\r\n            portfolios: this.state.portfolios.filter((portfolio) => {\r\n                return portfolio.name !== name;\r\n            })\r\n        });\r\n    };\r\n\r\n    handleSubmit = portfolio => {\r\n        if (this.state.portfolios.length < 10) {\r\n            let exists = false;\r\n            this.state.portfolios.forEach(function (portf) {\r\n                if (portf.name === portfolio.name) {\r\n                    exists = true;\r\n                }\r\n            });\r\n            if (!exists) {\r\n                const newPortfolios = [...this.state.portfolios, portfolio];\r\n                this.setState({\r\n                    portfolios: newPortfolios\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    updateStockCookie = (name, newStockData) => {\r\n        let ports = this.state.portfolios;\r\n        for (let i = 0; i < ports.length; i++) {\r\n            if (ports[i].name === name) {\r\n                ports[i].data = newStockData;\r\n            }\r\n        }\r\n        setCookie(\"portfolios\", JSON.stringify(ports));\r\n    };\r\n\r\n    render() {\r\n        const objects = this.state.portfolios.map((portfolio) => {\r\n            return (\r\n                <Portfolio\r\n                    name={portfolio.name}\r\n                    data={portfolio.data}\r\n                    key={portfolio.name}\r\n                    removePortfolio={this.removePortfolio}\r\n                    updateStockCookie={this.updateStockCookie}\r\n                />\r\n            );\r\n        });\r\n        return (\r\n            <div className=\"global\">\r\n                <AddPortfolioForm handleSubmit={this.handleSubmit} />\r\n                <div className=\"portfolios-container\">\r\n                    {objects}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nlet cookie = getCookie(\"portfolios\");\r\nif (cookie == null) {\r\n    cookie = [];\r\n} else {\r\n    cookie = JSON.parse(cookie);\r\n}\r\nReactDOM.render(<App data={cookie}/>, document.getElementById(\"root\"));"],"sourceRoot":""}